<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Integrated Printer & VFD Controller API</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; }
        h1 { color: #333; border-bottom: 3px solid #007acc; padding-bottom: 10px; }
        h2 { color: #007acc; margin-top: 30px; }
        .endpoint { background: #f9f9f9; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #007acc; }
        .method { font-weight: bold; color: #007acc; margin-right: 10px; }
        .path { font-family: monospace; background: #e8e8e8; padding: 3px 8px; border-radius: 3px; }
        pre { background: #f0f0f0; padding: 15px; border-radius: 5px; overflow-x: auto; }
        .section { margin: 30px 0; }
    </style>
</head>
<body>
<div class="container">
    <h1>Ô∏èüïÆ Integrated Printer & VFD Controller API Ô∏èüïÆ</h1>
    <p>Unified REST API for Epson TM-T20III Printer and FV-2030B VFD Display control</p>

    <div class="section">
        <h2>üñ®Ô∏è Printer Endpoints</h2>

        <div class="endpoint">
            <span class="method">GET</span> <span class="path">/api/printer/status</span>
            <p>Get current printer status</p>
        </div>

        <div class="endpoint">
            <span class="method">GET</span> <span class="path">/api/printer/health</span>
            <p>Printer health check</p>
        </div>

        <div class="endpoint">
            <span class="method">POST</span> <span class="path">/api/printer/print</span>
            <p>Print structured content (JSON)</p>
        </div>

        <div class="endpoint">
            <span class="method">POST</span> <span class="path">/api/printer/print/text</span>
            <p>Print plain text</p>
        </div>

        <div class="endpoint">
            <span class="method">POST</span> <span class="path">/api/printer/cut</span>
            <p>Cut paper</p>
        </div>

        <div class="endpoint">
            <span class="method">POST</span> <span class="path">/api/printer/test</span>
            <p>Test print</p>
        </div>
    </div>

    <div class="section">
        <h2>üìü VFD Display Endpoints</h2>

        <div class="endpoint">
            <span class="method">GET</span> <span class="path">/api/vfd/status</span>
            <p>Get current VFD status</p>
        </div>

        <div class="endpoint">
            <span class="method">GET</span> <span class="path">/api/vfd/health</span>
            <p>VFD health check</p>
        </div>

        <div class="endpoint">
            <span class="method">POST</span> <span class="path">/api/vfd/display</span>
            <p>Display text on VFD</p>
            <pre>{"text": "Hello World"}</pre>
        </div>

        <div class="endpoint">
            <span class="method">POST</span> <span class="path">/api/vfd/clear</span>
            <p>Clear VFD display</p>
        </div>

        <div class="endpoint">
            <span class="method">POST</span> <span class="path">/api/vfd/brightness</span>
            <p>Set brightness (0-100)</p>
            <pre>{"brightness": 80}</pre>
        </div>

        <div class="endpoint">
            <span class="method">POST</span> <span class="path">/api/vfd/reconnect</span>
            <p>Attempt to reconnect to physical display</p>
        </div>
    </div>

    <div class="section">
        <h2>Real-time Monitoring</h2>

        <div class="endpoint">
            <span class="method">GET</span> <span class="path">/api/events/status</span>
            <p>Server-Sent Events for printer status updates</p>
        </div>

        <div class="endpoint">
            <span class="method">GET</span> <span class="path">/api/vfd/events/status</span>
            <p>Server-Sent Events for VFD status updates</p>
        </div>
    </div>

    <div class="section">
        <h2>Example Usage</h2>
        <pre>
# Print receipt and display total
curl -X POST -d "Receipt Content" http://localhost:8080/api/printer/print/text
curl -X POST -H "Content-Type: application/json" \
  -d '{"text":"Total: $25.00"}' \
  http://localhost:8080/api/vfd/display

# Check health
curl http://localhost:8080/api/printer/health
curl http://localhost:8080/api/vfd/health

# Monitor status (JavaScript)
const printerEvents = new EventSource('/api/events/status');
printerEvents.onmessage = (e) => console.log('Printer:', JSON.parse(e.data));

const vfdEvents = new EventSource('/api/vfd/events/status');
vfdEvents.onmessage = (e) => console.log('VFD:', JSON.parse(e.data));
        </pre>
    </div>

    <div class="section">
        And now for something completely different...
        <h2><a href="/test" target="_blank">üíâ Open Interactive Test Client üß™</a></h2>
    </div>
</div>
</body>
</html>